<?xml version="1.0"?>

<robot xmlns:xacro="http://ros.org/wiki/xacro" name="mkmr" >
    <xacro:macro name="mkmr_wheels" params="parent name origin_xyz origin_rpy axis">


        <link name="${ROBOT_ID}/${name}">
            <visual>
                <origin xyz="0 0 0" rpy="0 0 0"/>
                <geometry>
                    <!-- <mesh filename="package://mkmr_description/meshes/${name}.STL" /> -->
                    <mesh filename="package://mkmr_description/meshes/front_left_wheel.STL" />
                </geometry>
                <material name="Black"/>
            </visual>

            <collision>
                <origin xyz="0 0 0" rpy="0 0 0"/>
                <geometry>
                    <!-- <mesh filename="package://mkmr_description/meshes/${name}.STL" /> -->
                    <cylinder radius="0.04" length="0.04"/>
                </geometry>
            </collision>

            <inertial>
                <origin xyz="2.20994875371749E-06 0.0137458677668464 1.25513774595909E-07"/>
                <mass value="0.3"/>
                <inertia
                    ixx="5.15038604464734E-06"
                    ixy="-1.76170105577901E-11"
                    ixz="-2.62625669052954E-20"
                    iyy="6.47263266606934E-06"
                    iyz="2.97339526935625E-13"
                    izz="5.15038633208783E-06" />
            </inertial>
        </link>
            
        <joint name="${ROBOT_ID}/${name}" type="continuous"> 
            <origin xyz="${origin_xyz}" rpy="${origin_rpy}"/> 
            <parent link="${parent}"/>
            <child link="${ROBOT_ID}/${name}"/>
            <axis xyz="${axis}" />
        </joint>


        <xacro:if value="$(arg use_ros_control_for_base)">
        <xacro:simple_transmission name="${ROBOT_ID}/${name}" interface="VelocityJointInterface"/>
        </xacro:if>


        <xacro:include filename="$(find mkmr_description)/urdf/mkmr/mkmr_wheels.gazebo.xacro"/>
        <xacro:mkmr_wheels_gazebo/>


    </xacro:macro>

</robot>
